<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CortexAI - Compare AI Responses Side by Side</title>
    <meta name="description"
        content="Compare AI model responses side by side. Single chat or multi-model comparison powered by CortexAI." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <div class="compact-bar" id="compactBar" aria-hidden="true">
        <div class="compact-bar-inner">
            <div class="compact-logo">
                <span class="compact-logo-icon">AI</span>
                <span>CortexAI</span>
            </div>
            <div class="compact-mode-toggle">
                <button class="compact-mode-btn active" id="cBtnSingle" data-mode="single">Chat</button>
                <button class="compact-mode-btn" id="cBtnCompare" data-mode="compare">Compare</button>
            </div>
            <div class="compact-model-info" id="compactModelInfo"></div>
            <button class="compact-send-btn" id="compactSendBtn">
                <span class="btn-icon">↑</span> Send
            </button>
        </div>
    </div>

    <header class="header" id="mainHeader">
        <div class="header-inner">
            <div class="logo">
                <span class="logo-icon">AI</span>
                <span class="logo-text">CortexAI</span>
            </div>
            <div class="header-right"></div>
        </div>
        <div class="header-intro">
            <p class="header-intro-sub">Pick your models, type a prompt, and watch AI responses instantly - compared in real time.</p>
        </div>
    </header>

    <aside class="history-sidebar" id="historySidebar" aria-label="Chat history">
        <div class="history-sidebar-header">
            <div class="history-sidebar-title">
                <span>History</span>
            </div>
            <div class="history-sidebar-actions">
                <button class="history-clear-btn" id="historyClearAllBtn" title="Clear all history">Clear All</button>
            </div>
        </div>
        <div class="history-search-wrap">
            <input type="text" id="historySearch" class="history-search" placeholder="Search history..."
                aria-label="Search history" />
        </div>
        <ul class="history-list" id="historyList" role="list"></ul>
        <div class="history-empty" id="historyEmpty">
            <div class="history-empty-icon">Chat</div>
            <p>No history yet.<br>Send a prompt to get started.</p>
        </div>
    </aside>

    <main class="main" id="workspace">

        <div class="workspace-header">
            <div class="mode-toggle" role="tablist" aria-label="Chat mode">
                <button class="mode-btn active" id="btnSingleMode" role="tab" aria-selected="true" data-mode="single">
                    Single Chat
                </button>
                <button class="mode-btn" id="btnCompareMode" role="tab" aria-selected="false" data-mode="compare">
                    Compare
                </button>
            </div>
            <div class="workspace-tagline" id="workspaceTagline">Single model - Conversational</div>
        </div>

        <section class="panel panel-compare hidden" id="panelCompare" aria-live="polite">
            <div class="card model-card">
                <div class="card-header">
                    <span class="card-title">Model Selection</span>
                    <div class="slot-count-btns">
                        <span class="slot-count-label">Compare:</span>
                        <button class="slot-count-btn active" id="btn2Models" data-count="2">2 Models</button>
                        <button class="slot-count-btn" id="btn3Models" data-count="3">3 Models</button>
                    </div>
                </div>
                <div class="compare-slots" id="compareSlots">
                    <div class="slot" id="slot1">
                        <label class="slot-label">MODEL 1</label>
                        <select class="model-select compare-select" id="compareModel1"></select>
                    </div>
                    <div class="slot" id="slot2">
                        <label class="slot-label">MODEL 2</label>
                        <select class="model-select compare-select" id="compareModel2"></select>
                    </div>
                    <div class="slot hidden" id="slot3">
                        <label class="slot-label">MODEL 3</label>
                        <select class="model-select compare-select" id="compareModel3"></select>
                    </div>
                </div>
            </div>
        </section>

        <section class="results-section hidden" id="resultsSection" aria-live="polite" aria-label="AI responses">
            <div class="results-header">
                <h2 class="results-title">Responses</h2>
                <button class="btn-clear" id="clearBtn" title="Clear results">Clear</button>
            </div>
            <div class="results-grid" id="resultsGrid"></div>
        </section>

        <div class="card prompt-card" id="promptCard">
            <div class="composer-toolbar" id="composerToolbar" role="group" aria-label="Prompt routing controls">
                <div class="composer-toolbar-left" id="singleRoutingControls">
                    <span class="smart-help-wrap">
                        <button class="smart-help" id="smartHelpBtn" type="button"
                            aria-label="About Smart Routing"
                            aria-describedby="smartRoutingTooltip"
                            title="Auto-selects the best model for your prompt.">i</button>
                        <span class="smart-tooltip" id="smartRoutingTooltip" role="tooltip">
                            Auto-selects the best model for your prompt.
                        </span>
                    </span>
                    <button class="chat-route-btn route-compact-btn" id="routeSmartBtn" type="button"
                        aria-label="Toggle Smart Mode">
                        Smart
                    </button>
                    <div class="toolbar-model-group hidden" id="singleModelWrap">
                        <label class="sr-only" for="singleModel">Choose model</label>
                        <span class="toolbar-model-label">Model:</span>
                        <select id="singleModel" class="model-select toolbar-model-select" aria-label="Choose model">
                            <option value="openai:gpt-4o">ChatGPT</option>
                        </select>
                    </div>
                </div>
                <div class="composer-toolbar-right">
                    <button class="chat-route-btn route-compact-btn" id="routeResearchBtn" type="button"
                        aria-label="Toggle Research Mode">Research</button>
                    <button class="chat-route-btn route-compact-btn optimize-chip" id="routeOptimizeBtn" type="button"
                        aria-label="Toggle Prompt Optimizer">Optimizer</button>
                </div>
            </div>
            <textarea id="promptInput" class="prompt-textarea" placeholder="Ask anything... your models are ready."
                rows="1" aria-label="Prompt input"></textarea>
            <div class="prompt-footer">
                <div class="prompt-footer-left">
                    <button class="btn-opt-view hidden" id="optViewBtn"
                        title="See what prompt was actually sent to the LLM">
                        View Optimized
                    </button>
                </div>
                <div class="prompt-footer-right">
                    <button class="btn-submit" id="submitBtn" aria-label="Send message">
                        <span class="btn-icon">↑</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="opt-panel hidden" id="optPanel" role="region" aria-label="Optimized prompt view">
            <div class="opt-panel-header">
                <span class="opt-panel-title">Prompt Optimization - what went to the LLM</span>
                <button class="opt-panel-close" id="optPanelClose" aria-label="Close">X</button>
            </div>
            <div class="opt-panel-body">
                <div class="opt-col">
                    <div class="opt-col-label">YOUR ORIGINAL</div>
                    <div class="opt-col-text" id="optOriginalText"></div>
                </div>
                <div class="opt-col opt-col-right">
                    <div class="opt-col-label">OPTIMIZED</div>
                    <div class="opt-col-text" id="optOptimizedText"></div>
                </div>
            </div>
        </div>

        <div class="examples-section">
            <p class="examples-title">TRY AN EXAMPLE</p>
            <div class="examples-chips">
                <button class="chip" data-prompt="Explain quantum computing in simple terms">Explain quantum computing
                    in simple terms</button>
                <button class="chip" data-prompt="Write a haiku about artificial intelligence">Write a haiku about
                    artificial intelligence</button>
                <button class="chip" data-prompt="What are the pros and cons of remote work?">Pros and cons of remote
                    work?</button>
                <button class="chip" data-prompt="Explain the difference between SQL and NoSQL databases">SQL vs NoSQL
                    databases</button>
                <button class="chip" data-prompt="What is the best way to learn a new programming language?">How to
                    learn a programming language?</button>
            </div>
        </div>

        <div class="error-banner hidden" id="errorBanner" role="alert">
            <span class="error-icon">!</span>
            <span id="errorMsg">Something went wrong.</span>
            <button class="error-close" id="errorClose" aria-label="Dismiss error">X</button>
        </div>

    </main>

    <footer class="footer">
        <p>CortexAI - Unified AI Comparison Engine</p>
    </footer>

    <script src="smart-routing-state.js"></script>
    <script src="app.js"></script>
</body>

</html>
